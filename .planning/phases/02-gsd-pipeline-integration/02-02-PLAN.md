---
phase: 02-gsd-pipeline-integration
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - ~/.openclaw/workspace-juancho/AGENTS.md
  - ~/.openclaw/workspace-juancho/skills/gsd-status/SKILL.md
  - ~/.openclaw/workspace-juancho/skills/gsd-resume/SKILL.md
autonomous: true

must_haves:
  truths:
    - "User can trigger /gsd:status and see current phase, plan progress, blockers, and task stack across all phases"
    - "User can trigger /gsd:resume and Juancho reads STATE.md to pick up where it left off"
    - "AGENTS.md references GSD skills by name so Juancho knows they exist and when to suggest them"
    - "Autonomy level in config.json controls how much Juancho asks vs decides during execution"
    - "STATE.md tracks task stack: what is done, in progress, blocked, and pending across all phases"
  artifacts:
    - path: "~/.openclaw/workspace-juancho/skills/gsd-status/SKILL.md"
      provides: "Task stack tracking and progress reporting"
      min_lines: 50
    - path: "~/.openclaw/workspace-juancho/skills/gsd-resume/SKILL.md"
      provides: "Session resumption from STATE.md"
      min_lines: 40
    - path: "~/.openclaw/workspace-juancho/AGENTS.md"
      provides: "Updated engineering discipline with GSD skill references and autonomy behavior"
      min_lines: 100
      contains: "gsd-new-project"
  key_links:
    - from: "AGENTS.md"
      to: "skills/gsd-*"
      via: "Skill name references in workflow documentation"
      pattern: "gsd-(new-project|plan-phase|execute-phase|verify-phase|status|resume)"
    - from: "gsd-status/SKILL.md"
      to: ".planning/STATE.md"
      via: "Reads STATE.md and ROADMAP.md for progress"
      pattern: "STATE\\.md|ROADMAP\\.md"
    - from: "gsd-resume/SKILL.md"
      to: ".planning/STATE.md"
      via: "Reads session continuity section for resume point"
      pattern: "Session Continuity|Resume file"
---

<objective>
Create task tracking and session resume skills, then update AGENTS.md to wire the entire GSD pipeline into Juancho's core behavior. After this plan, Juancho's engineering discipline document explicitly references GSD commands and autonomy levels.

Purpose: This completes the GSD integration by connecting the skills (from Plan 02-01) to Juancho's core agent behavior. Without this wiring, the skills exist but Juancho doesn't know to suggest or use them proactively.

Output: gsd-status and gsd-resume skills, plus updated AGENTS.md with GSD pipeline references and configurable autonomy.
</objective>

<execution_context>
@/Users/didac/.claude/get-shit-done/workflows/execute-plan.md
@/Users/didac/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-gsd-pipeline-integration/02-RESEARCH.md

# Current AGENTS.md (will be updated):
@~/.openclaw/workspace-juancho/AGENTS.md

# GSD state and config templates:
@/Users/didac/.claude/get-shit-done/templates/state.md
@/Users/didac/.claude/get-shit-done/templates/config.json
@/Users/didac/.claude/get-shit-done/workflows/resume-project.md

# OpenClaw config for reference:
@~/.openclaw/openclaw.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create gsd-status and gsd-resume skills</name>
  <files>
    ~/.openclaw/workspace-juancho/skills/gsd-status/SKILL.md
    ~/.openclaw/workspace-juancho/skills/gsd-resume/SKILL.md
  </files>
  <action>
Create two workspace skills:

**gsd-status/SKILL.md:**
- Frontmatter: name "gsd-status", description covering what it does AND all trigger patterns: "/gsd:status", "what's the status", "show progress", "where are we", "task stack", "what's next".
- Body workflow:
  1. Read .planning/STATE.md for current position, progress bar, blockers, pending todos.
  2. Read .planning/ROADMAP.md for phase-level progress (count complete vs total phases, plans per phase).
  3. Read .planning/REQUIREMENTS.md to show requirement completion status (how many done vs total).
  4. Build task stack view:
     - DONE: phases/plans with SUMMARY.md files
     - IN PROGRESS: current phase and plan (from STATE.md)
     - BLOCKED: items from STATE.md Blockers/Concerns section
     - PENDING: upcoming phases/plans without SUMMARY.md
  5. Present formatted summary with progress bars and next action recommendation.
  6. If no .planning/ exists: suggest /gsd:new-project.
- This covers GSD-05 (task stack tracking across all phases).
- Keep under 150 lines.

**gsd-resume/SKILL.md:**
- Frontmatter: name "gsd-resume", description covering triggers: "/gsd:resume", "pick up where I left off", "continue working", "what was I doing".
- Body workflow:
  1. Read .planning/STATE.md Session Continuity section (last session, stopped at, resume file).
  2. If resume file exists: read it for specific continuation instructions.
  3. Read current plan status: find the in-progress PLAN.md that lacks a SUMMARY.md.
  4. Present context summary: what was last done, what's next, any blockers.
  5. Offer to continue: "Resume executing {plan}?" or "Plan the next phase?" based on state.
  6. If no .planning/ exists: suggest /gsd:new-project.
- Keep under 120 lines.

SAME CONSTRAINTS: imperative form, reference templates by path, valid frontmatter (name + description only), under bootstrapMaxChars limit.
  </action>
  <verify>
    Both files exist:
    ls ~/.openclaw/workspace-juancho/skills/gsd-status/SKILL.md
    ls ~/.openclaw/workspace-juancho/skills/gsd-resume/SKILL.md
    Both have valid YAML frontmatter.
    gsd-status reads STATE.md, ROADMAP.md, and REQUIREMENTS.md.
    gsd-resume reads Session Continuity section.
  </verify>
  <done>
    gsd-status skill provides task stack view across all phases (GSD-05).
    gsd-resume skill enables session continuity from STATE.md.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update AGENTS.md with GSD pipeline references and autonomy behavior</name>
  <files>
    ~/.openclaw/workspace-juancho/AGENTS.md
  </files>
  <action>
Rewrite AGENTS.md to integrate the GSD skills into Juancho's core behavior. This is an UPDATE to the existing file from Phase 1, not a replacement from scratch. Preserve the existing engineering discipline content but add GSD skill awareness.

Key additions/changes:

1. **Session Startup Ritual** (update existing section):
   - Keep existing: Read SOUL.md, .planning/STATE.md, current PLAN.md, work log.
   - ADD: If .planning/ doesn't exist and user has a project idea, suggest /gsd:new-project.
   - ADD: If .planning/ exists and no active plan, suggest /gsd:plan-phase or /gsd:resume.

2. **GSD Pipeline Commands** (new section, after Development Workflow):
   Add a concise reference to all available GSD skills with the execution flow:

   **Project lifecycle:** new-project → (for each phase) discuss → research → plan → execute → verify → next phase

   - /gsd:new-project — Initialize .planning/ with intensive questioning, create roadmap with phases
   - /gsd:discuss-phase N — Capture implementation decisions for a phase
   - /gsd:research-phase N — Research domain before planning
   - /gsd:plan-phase N — Create PLAN.md files with multiple tasks per plan, grouped into parallel waves
   - /gsd:execute-phase N — Execute plans: parallel across waves, sequential tasks within each plan, atomic commit per task
   - /gsd:verify-phase N — Goal-backward verification (truths → artifacts → wiring), creates VERIFICATION.md
   - /gsd:status — Show task stack and progress across all phases
   - /gsd:resume — Pick up where last session left off

   **Execution model:** Plans contain 2-3 tasks each. Tasks execute sequentially within a plan with atomic commits. Plans in the same wave execute in parallel. Phases execute one at a time.

3. **Autonomy Levels** (new section):
   Define three autonomy modes that read from .planning/config.json:
   - "minimal" (ask before every decision, confirm every action)
   - "moderate" (ask for architectural decisions only, auto-execute standard tasks)
   - "maximum" (auto-execute everything, only interrupt for blockers and errors)
   Default: "moderate" — matches the user's stated preference of "intensive questioning at start, minimal interruption during execution"

4. **Heartbeat Behavior** (update existing section):
   - Keep existing: check STATE.md, recent commits, open PRs, today's log.
   - ADD: If autonomy is "maximum" and current plan exists, auto-continue execution.
   - ADD: If phase complete and autonomy is "maximum", auto-transition to next phase.

5. **Proactive Suggestions** (new section):
   When Juancho notices patterns, suggest appropriate GSD commands:
   - User describes a new project idea → suggest /gsd:new-project
   - Phase plans all have SUMMARYs → suggest /gsd:verify-phase or next phase
   - User asks "what's next" → run /gsd:status internally
   - Session starts with existing .planning/ → run /gsd:resume behavior

Keep the file under 250 lines (currently 170 lines, adding ~80 lines of new content).
Stay under 20k chars total (current is ~5.2k, target ~8-10k).
Preserve all existing sections that are not being updated.
  </action>
  <verify>
    File exists and is valid markdown:
    wc -l ~/.openclaw/workspace-juancho/AGENTS.md (should be 200-250 lines)
    wc -c ~/.openclaw/workspace-juancho/AGENTS.md (should be under 15000 chars)
    grep "gsd-new-project" ~/.openclaw/workspace-juancho/AGENTS.md (skill referenced)
    grep "gsd-execute-phase" ~/.openclaw/workspace-juancho/AGENTS.md (skill referenced)
    grep "autonomy" ~/.openclaw/workspace-juancho/AGENTS.md (autonomy section exists)
    grep "Autonomy Levels" ~/.openclaw/workspace-juancho/AGENTS.md (section header exists)
  </verify>
  <done>
    AGENTS.md references all 8 GSD skills by name.
    Autonomy levels section defines minimal/moderate/maximum modes reading from config.json.
    Session startup suggests GSD commands based on project state.
    Heartbeat behavior includes auto-execution for maximum autonomy.
    File stays under 250 lines and 15k chars (within bootstrapMaxChars limit).
  </done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] gsd-status skill reads STATE.md, ROADMAP.md, REQUIREMENTS.md and builds task stack view
- [ ] gsd-resume skill reads Session Continuity for resumption
- [ ] AGENTS.md references all 8 GSD skills (/gsd:new-project through /gsd:resume)
- [ ] AGENTS.md defines 3 autonomy levels (minimal, moderate, maximum)
- [ ] AGENTS.md stays under 250 lines and 15k chars
- [ ] No skill file exceeds 150 lines
- [ ] All frontmatter has name + description only (no extra fields beyond what OpenClaw expects)
</verification>

<success_criteria>
- Task stack tracking across all phases (GSD-05)
- Configurable autonomy levels (GSD-04)
- Session continuity via gsd-resume
- AGENTS.md wires GSD pipeline into core agent behavior
- Intensive questioning referenced as entry point in gsd-new-project (GSD-02)
</success_criteria>

<output>
After completion, create `.planning/phases/02-gsd-pipeline-integration/02-02-SUMMARY.md`
</output>
