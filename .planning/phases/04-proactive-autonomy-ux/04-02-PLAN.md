---
phase: 04-proactive-autonomy-ux
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - ~/.openclaw/workspace-juancho/skills/telegram-status/SKILL.md
  - ~/.openclaw/workspace-juancho/skills/telegram-commit/SKILL.md
  - ~/.openclaw/workspace-juancho/skills/telegram-test/SKILL.md
  - ~/.openclaw/workspace-juancho/skills/telegram-phase/SKILL.md
  - ~/.openclaw/workspace-juancho/skills/telegram-research/SKILL.md
autonomous: true

must_haves:
  truths:
    - "User can type /status in Telegram and see current project state"
    - "User can type /commit in Telegram to trigger a git commit"
    - "User can type /test in Telegram to run the test suite"
    - "User can type /phase N in Telegram to execute a specific phase"
    - "User can type /research TOPIC in Telegram to research a domain"
    - "Status updates include interactive buttons for next actions"
  artifacts:
    - path: "~/.openclaw/workspace-juancho/skills/telegram-status/SKILL.md"
      provides: "Telegram /status command wrapper"
      contains: "nativeCommand"
    - path: "~/.openclaw/workspace-juancho/skills/telegram-commit/SKILL.md"
      provides: "Telegram /commit command wrapper"
      contains: "nativeCommand"
    - path: "~/.openclaw/workspace-juancho/skills/telegram-test/SKILL.md"
      provides: "Telegram /test command wrapper"
      contains: "nativeCommand"
    - path: "~/.openclaw/workspace-juancho/skills/telegram-phase/SKILL.md"
      provides: "Telegram /phase command wrapper"
      contains: "nativeCommand"
    - path: "~/.openclaw/workspace-juancho/skills/telegram-research/SKILL.md"
      provides: "Telegram /research command wrapper"
      contains: "nativeCommand"
  key_links:
    - from: "telegram-status/SKILL.md"
      to: "skills/status/SKILL.md"
      via: "Delegates to existing /status skill"
      pattern: "/status"
    - from: "telegram-phase/SKILL.md"
      to: "skills/execute-phase/SKILL.md"
      via: "Delegates to existing /execute-phase skill"
      pattern: "/execute-phase"
---

<objective>
Create 5 thin Telegram command wrapper skills that expose existing GSD functionality via Telegram native commands. Each skill is 20-40 lines, delegates immediately to the existing GSD skill, and adds Telegram-specific formatting (inline keyboards, chunking awareness).

Purpose: Users interact with Juancho primarily via Telegram. These commands let them check status, trigger actions, and manage phases without needing CLI access.
Output: 5 new skill directories with SKILL.md files, registered as Telegram native commands
</objective>

<execution_context>
@/Users/didac/.claude/get-shit-done/workflows/execute-plan.md
@/Users/didac/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@/Users/didac/Juancho/.planning/PROJECT.md
@/Users/didac/Juancho/.planning/ROADMAP.md
@/Users/didac/Juancho/.planning/phases/04-proactive-autonomy-ux/04-RESEARCH.md
@/Users/didac/.openclaw/workspace-juancho/skills/status/SKILL.md
@/Users/didac/.openclaw/workspace-juancho/skills/execute-phase/SKILL.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create /status and /commit Telegram command skills</name>
  <files>
~/.openclaw/workspace-juancho/skills/telegram-status/SKILL.md
~/.openclaw/workspace-juancho/skills/telegram-commit/SKILL.md
  </files>
  <action>
Create two thin wrapper skills. Each skill file needs YAML frontmatter with nativeCommand (auto-registers with Telegram BotFather via OpenClaw's bot-native-command-menu.ts).

**telegram-status/SKILL.md:**
```yaml
---
name: telegram-status
description: Show current project status via Telegram
nativeCommand: status
nativeDescription: "Show current project status"
---
```

Body (~25 lines):
1. Delegate to existing /status command (the gsd-status skill)
2. Format output for Telegram readability (monospace for structure)
3. If output > 20000 chars, send as file upload instead of text (OpenClaw auto-chunks up to ~20k, beyond that use file)
4. Add inline keyboard buttons:
   - Row 1: [Execute Phase] [Verify Phase]
   - Row 2: [View Plans] [View Roadmap]
5. Button callback_data values: "exec_phase", "verify_phase", "view_plans", "view_roadmap"

**telegram-commit/SKILL.md:**
```yaml
---
name: telegram-commit
description: Trigger a git commit via Telegram
nativeCommand: commit
nativeDescription: "Create a git commit with staged changes"
---
```

Body (~20 lines):
1. Check if there are staged changes (git status)
2. If no changes: respond "Nothing to commit"
3. If changes exist: create commit with conventional format
4. Report commit hash and summary to Telegram
5. Add inline keyboard: [Push to Remote] [View Diff]

Key constraints:
- These are THIN WRAPPERS (Pitfall 2 from research) -- do NOT duplicate logic from gsd-status skill
- Each file must be under 350 lines / 15k chars
- Use nativeCommand frontmatter for auto-registration
- Let OpenClaw handle message chunking automatically (don't manually split)
  </action>
  <verify>
1. Both SKILL.md files exist in their directories
2. Both contain nativeCommand in frontmatter
3. telegram-status delegates to /status (not reimplementing)
4. telegram-commit checks staged changes before committing
5. Both files under 100 lines (thin wrappers)
6. Both contain inline keyboard button definitions
  </verify>
  <done>telegram-status and telegram-commit skills created as thin wrappers with native command registration and inline keyboards</done>
</task>

<task type="auto">
  <name>Task 2: Create /test, /phase, and /research Telegram command skills</name>
  <files>
~/.openclaw/workspace-juancho/skills/telegram-test/SKILL.md
~/.openclaw/workspace-juancho/skills/telegram-phase/SKILL.md
~/.openclaw/workspace-juancho/skills/telegram-research/SKILL.md
  </files>
  <action>
Create three more thin wrapper skills with nativeCommand frontmatter.

**telegram-test/SKILL.md:**
```yaml
---
name: telegram-test
description: Run project test suite via Telegram
nativeCommand: test
nativeDescription: "Run the test suite"
---
```

Body (~25 lines):
1. Auto-detect project type (package.json -> npm test, Cargo.toml -> cargo test, go.mod -> go test ./..., pyproject.toml -> pytest)
2. Run detected test command
3. Report results: pass count, fail count, summary
4. If output very long (>20k chars), send test results as file upload
5. Add inline keyboard: [Run Again] [View Failures] (only show View Failures if tests failed)

**telegram-phase/SKILL.md:**
```yaml
---
name: telegram-phase
description: Execute or check a specific phase via Telegram
nativeCommand: phase
nativeDescription: "Execute or check a phase (e.g., /phase 4)"
---
```

Body (~30 lines):
1. Parse phase number from user message (e.g., "/phase 4" -> phase 4)
2. If no number provided: show current phase status from STATE.md
3. If number provided: delegate to /execute-phase {N}
4. Report phase execution start and progress
5. Add inline keyboard: [Verify Phase] [View Plans] [Stop]

**telegram-research/SKILL.md:**
```yaml
---
name: telegram-research
description: Research a domain or topic via Telegram
nativeCommand: research
nativeDescription: "Research a topic (e.g., /research auth patterns)"
---
```

Body (~25 lines):
1. Parse topic from user message (e.g., "/research auth patterns" -> "auth patterns")
2. If no topic: ask user to provide topic
3. Delegate to /research-phase with topic context
4. Report research findings summary
5. If findings > 20k chars, send as file upload
6. Add inline keyboard: [Save to Project] [Research More]

Key constraints:
- THIN WRAPPERS -- delegate immediately, don't reimplement
- Each under 100 lines
- nativeCommand frontmatter for Telegram registration
- Auto-detect project type for /test (reuse pattern from verify-phase skill Phase 3)
  </action>
  <verify>
1. All three SKILL.md files exist in their directories
2. All contain nativeCommand in frontmatter
3. telegram-test auto-detects project type
4. telegram-phase parses phase number from message
5. telegram-research parses topic from message
6. All files under 100 lines
7. All contain inline keyboard definitions
  </verify>
  <done>telegram-test, telegram-phase, and telegram-research skills created as thin wrappers with native command registration, argument parsing, and inline keyboards</done>
</task>

</tasks>

<verification>
1. All 5 skill directories created under ~/.openclaw/workspace-juancho/skills/
2. All 5 SKILL.md files have nativeCommand frontmatter
3. All 5 are thin wrappers (under 100 lines each)
4. All 5 delegate to existing GSD functionality
5. All 5 include inline keyboard buttons for interactive Telegram UX
6. File upload pattern used for large outputs (>20k chars)
</verification>

<success_criteria>
- /status shows project state with action buttons
- /commit creates git commit and reports result
- /test runs project test suite and reports pass/fail
- /phase N executes specified phase
- /research TOPIC researches and reports findings
- All commands registered as Telegram native commands via frontmatter
- Inline keyboards provide interactive next-step buttons
- Large outputs handled via file upload
</success_criteria>

<output>
After completion, create `.planning/phases/04-proactive-autonomy-ux/04-02-SUMMARY.md`
</output>
