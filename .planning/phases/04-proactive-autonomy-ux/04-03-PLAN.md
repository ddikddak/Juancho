---
phase: 04-proactive-autonomy-ux
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - ~/.openclaw/workspace-juancho/skills/onboard/SKILL.md
  - ~/.openclaw/workspace-juancho/skills/execute-phase/SKILL.md
  - ~/.openclaw/workspace-juancho/skills/verify-phase/SKILL.md
  - ~/.openclaw/workspace-juancho/templates/WORK_LOG.md
  - ~/.openclaw/workspace-juancho/templates/PROJECT_DOCS.md
autonomous: true

must_haves:
  truths:
    - "New user runs onboarding and gets repo, git, AI provider, and first project set up"
    - "Work logs are generated after each plan execution with decisions, tradeoffs, and issues"
    - "Code documentation (README, API docs) is generated during phase verification"
    - "Onboarding wraps existing /new-project skill with developer-specific setup"
    - "Work log template captures decisions, reasoning, and tradeoffs"
  artifacts:
    - path: "~/.openclaw/workspace-juancho/skills/onboard/SKILL.md"
      provides: "Juancho developer onboarding flow"
      min_lines: 80
      contains: "onboard"
    - path: "~/.openclaw/workspace-juancho/skills/execute-phase/SKILL.md"
      provides: "Enhanced execute-phase with work log generation"
      contains: "WORK_LOG"
    - path: "~/.openclaw/workspace-juancho/skills/verify-phase/SKILL.md"
      provides: "Enhanced verify-phase with documentation generation"
      contains: "documentation"
    - path: "~/.openclaw/workspace-juancho/templates/WORK_LOG.md"
      provides: "Work log template for capturing plan execution details"
      contains: "Decisions Made"
    - path: "~/.openclaw/workspace-juancho/templates/PROJECT_DOCS.md"
      provides: "Project documentation generation template"
      contains: "README"
  key_links:
    - from: "skills/onboard/SKILL.md"
      to: "skills/new-project/SKILL.md"
      via: "Wraps /new-project for first project definition"
      pattern: "/new-project"
    - from: "skills/execute-phase/SKILL.md"
      to: "templates/WORK_LOG.md"
      via: "Generates work log after plan completion using template"
      pattern: "WORK_LOG"
    - from: "skills/verify-phase/SKILL.md"
      to: "templates/PROJECT_DOCS.md"
      via: "Generates documentation during verification using template"
      pattern: "PROJECT_DOCS|documentation"
---

<objective>
Create the Juancho onboarding skill, enhance execute-phase with work log generation, and enhance verify-phase with documentation generation. Also create the work log and documentation templates.

Purpose: Onboarding provides a polished first-run experience for new users. Work logs capture the reasoning behind decisions (not just what was done). Documentation generation ensures projects always have up-to-date docs.
Output: 1 new skill (onboard), 2 enhanced skills (execute-phase, verify-phase), 2 templates
</objective>

<execution_context>
@/Users/didac/.claude/get-shit-done/workflows/execute-plan.md
@/Users/didac/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@/Users/didac/Juancho/.planning/PROJECT.md
@/Users/didac/Juancho/.planning/ROADMAP.md
@/Users/didac/Juancho/.planning/phases/04-proactive-autonomy-ux/04-RESEARCH.md
@/Users/didac/.openclaw/workspace-juancho/skills/execute-phase/SKILL.md
@/Users/didac/.openclaw/workspace-juancho/skills/verify-phase/SKILL.md
@/Users/didac/.openclaw/workspace-juancho/skills/new-project/SKILL.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create onboarding skill and documentation templates</name>
  <files>
~/.openclaw/workspace-juancho/skills/onboard/SKILL.md
~/.openclaw/workspace-juancho/templates/WORK_LOG.md
~/.openclaw/workspace-juancho/templates/PROJECT_DOCS.md
  </files>
  <action>
Create three files: the onboard skill and two templates.

**onboard/SKILL.md** (~120 lines):
```yaml
---
name: onboard
description: Juancho developer onboarding - set up repo, git, AI provider, and first project
---
```

Implement the onboarding flow from the research (Pattern 5):

1. **Welcome**: Introduce Juancho as autonomous AI developer
2. **Git Configuration Check**:
   - Verify git user.name and user.email are set
   - If missing, prompt user to configure them
   - Test git authentication (try `gh auth status` or `git ls-remote`)
3. **Repository Setup**:
   - Ask for project path
   - Verify path exists and is a git repo (or offer to init)
   - Check for existing .planning/ directory
4. **AI Provider Setup**:
   - List available providers (Claude, OpenAI, Gemini, Ollama)
   - Check which API keys are configured in environment
   - Verify provider connection works
5. **Telegram Integration**:
   - Check if Telegram binding exists in openclaw.json
   - If not configured, guide through bot token setup
6. **First Project Definition**:
   - Delegate to /new-project skill for intensive project questioning
   - This creates .planning/, PROJECT.md, ROADMAP.md, STATE.md
7. **Completion**:
   - Summarize what was set up
   - Suggest next commands: /status, /plan-phase 1

Key constraints:
- Wrap /new-project for project definition (do NOT duplicate)
- Read paths from openclaw.json workspace config (don't hardcode - Pitfall 4)
- Stay under 350 lines / 15k chars
- Handle edge cases: already configured, missing tools, partial setup

**templates/WORK_LOG.md** (~50 lines):
Create work log template matching the pattern from research (Pattern 6). Include sections:
- Plan identification (phase, plan number, name)
- Timestamps (started, completed, duration)
- Objective (from PLAN.md)
- Decisions Made (bulleted list with rationale)
- Tradeoffs Considered (table: option, pros, cons, chosen)
- Issues Encountered (numbered: symptom, root cause, solution)
- Code Changes (file: what changed and why)
- Verification Results (pass/fail per command)
- Human Decisions Required (if any)

**templates/PROJECT_DOCS.md** (~40 lines):
Create documentation generation template with sections:
- README.md generation instructions (project name, description, setup, usage, architecture)
- API documentation instructions (TypeDoc for TypeScript, language-specific for others)
- Inline comment guidelines (public APIs, complex logic, non-obvious behavior)
- When to generate each type (README after phase 1, API docs after public API changes, inline during implementation)
  </action>
  <verify>
1. onboard/SKILL.md exists and has proper frontmatter
2. onboard/SKILL.md references /new-project (delegates, not duplicates)
3. onboard/SKILL.md includes git, repo, AI provider, Telegram setup steps
4. templates/WORK_LOG.md exists with all required sections
5. templates/PROJECT_DOCS.md exists with README/API/inline sections
6. onboard/SKILL.md under 350 lines: wc -l
7. All files under 15k chars: wc -c
  </verify>
  <done>Onboarding skill provides complete developer setup flow wrapping /new-project. Work log and documentation templates ready for use by execute-phase and verify-phase</done>
</task>

<task type="auto">
  <name>Task 2: Enhance execute-phase with work logging and verify-phase with doc generation</name>
  <files>
~/.openclaw/workspace-juancho/skills/execute-phase/SKILL.md
~/.openclaw/workspace-juancho/skills/verify-phase/SKILL.md
  </files>
  <action>
Enhance two existing skills by adding work logging and documentation generation capabilities.

**execute-phase/SKILL.md** -- Add work log generation section:

Read the current file first (296 lines, ~9k chars). Append a new section AFTER plan completion (after the summary generation step). Add:

1. **Work Log Generation** section (~30-40 lines added):
   - After each plan completes, generate work log file at `.planning/phases/{XX}-{name}/WORK_LOG_{PLAN}.md`
   - Use template from `~/.openclaw/workspace-juancho/templates/WORK_LOG.md`
   - Fill in: timestamps, objective (from PLAN.md), decisions made during execution, tradeoffs considered, issues encountered, code changes, verification results
   - Commit work log with plan summary: `git add .planning/phases/ && git commit -m "docs({phase}-{plan}): add work log"`
   - If generating work log fails, continue (don't block phase execution)

Key constraints:
- Add to EXISTING file, don't rewrite
- Keep total file under 350 lines / 15k chars (currently 296 lines / 9k chars, adding ~35 lines = ~331 lines, ~12k chars -- within limits)
- Work log generation is best-effort (fail gracefully, don't block)
- Reference template path, don't inline template content

**verify-phase/SKILL.md** -- Add documentation generation section:

Read the current file first (272 lines, ~9.4k chars). Add a new section BEFORE the final verification report. Add:

1. **Documentation Generation** section (~30-40 lines added):
   - Auto-detect project type for doc tool selection:
     - TypeScript (tsconfig.json): run `npx typedoc --out docs/api src/` with 60s timeout
     - Python (pyproject.toml): note that Sphinx/pdoc should be used
     - Go (go.mod): note that godoc should be used
     - Other: skip auto-generation
   - Generate/update README.md if it doesn't exist or is placeholder
   - Use template from `~/.openclaw/workspace-juancho/templates/PROJECT_DOCS.md`
   - Commit generated docs: `git add docs/ README.md && git commit -m "docs: generate project documentation"`
   - Timeout protection: 60s max for doc generation (Pitfall 5 from research)
   - If doc generation fails, log warning but don't block verification

Key constraints:
- Add to EXISTING file, don't rewrite
- Keep total file under 350 lines / 15k chars (currently 272 lines / 9.4k chars, adding ~35 lines = ~307 lines, ~12.5k chars -- within limits)
- Doc generation has timeout (60s) to prevent blocking (Pitfall 5)
- Doc generation is optional (fail gracefully)
  </action>
  <verify>
1. execute-phase/SKILL.md contains "WORK_LOG" or "work log" section
2. execute-phase/SKILL.md references template path
3. execute-phase/SKILL.md total lines under 350: wc -l
4. execute-phase/SKILL.md total chars under 15000: wc -c
5. verify-phase/SKILL.md contains "documentation" or "doc generation" section
6. verify-phase/SKILL.md includes timeout for doc generation
7. verify-phase/SKILL.md total lines under 350: wc -l
8. verify-phase/SKILL.md total chars under 15000: wc -c
  </verify>
  <done>execute-phase generates work logs after plan completion. verify-phase generates documentation during verification. Both enhancements fail gracefully (don't block main workflow). Both files stay within size limits.</done>
</task>

</tasks>

<verification>
1. Onboarding flow covers: git check, repo setup, AI provider, Telegram, first project definition
2. Onboarding delegates to /new-project (not duplicating)
3. Work log template has all required sections (decisions, tradeoffs, issues, changes)
4. Documentation template covers README, API docs, inline comments
5. execute-phase generates work logs after plan completion
6. verify-phase generates docs during verification with 60s timeout
7. All files within size limits (350 lines / 15k chars)
</verification>

<success_criteria>
- Onboarding skill provides complete developer setup experience
- Work logs are auto-generated after each plan with decisions, tradeoffs, and issues
- Documentation (README, API docs) auto-generated during phase verification
- Doc generation has timeout protection and fails gracefully
- All modified skills stay within OpenClaw size limits
</success_criteria>

<output>
After completion, create `.planning/phases/04-proactive-autonomy-ux/04-03-SUMMARY.md`
</output>
