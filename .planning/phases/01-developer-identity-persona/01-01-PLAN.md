---
phase: 01-developer-identity-persona
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - ~/.openclaw/workspace-juancho/SOUL.md
  - ~/.openclaw/workspace-juancho/AGENTS.md
  - ~/.openclaw/workspace-juancho/TOOLS.md
  - ~/.openclaw/workspace-juancho/IDENTITY.md
  - ~/.openclaw/openclaw.json
autonomous: true

must_haves:
  truths:
    - "Juancho describes itself as a developer/engineer, not a general assistant"
    - "Juancho mentions phases, tests, PRs, git workflow when discussing how it works"
    - "Juancho's default approach is research-before-code, test-after-changes, document-decisions"
    - "Juancho is registered as a separate agent in OpenClaw with its own isolated workspace"
    - "Telegram messages route to Juancho agent, not the default assistant"
  artifacts:
    - path: "~/.openclaw/workspace-juancho/SOUL.md"
      provides: "Developer persona and core identity"
      contains: "research before code"
    - path: "~/.openclaw/workspace-juancho/AGENTS.md"
      provides: "Engineering discipline and session workflow"
      contains: ".planning/STATE.md"
    - path: "~/.openclaw/workspace-juancho/TOOLS.md"
      provides: "Git conventions and testing discipline"
      contains: "semantic commit"
    - path: "~/.openclaw/workspace-juancho/IDENTITY.md"
      provides: "Agent name, emoji, theme"
      contains: "Juancho"
    - path: "~/.openclaw/openclaw.json"
      provides: "Multi-agent configuration with Juancho registered"
      contains: "workspace-juancho"
  key_links:
    - from: "~/.openclaw/openclaw.json"
      to: "~/.openclaw/workspace-juancho/"
      via: "agents.list[].workspace path"
      pattern: "workspace-juancho"
    - from: "~/.openclaw/openclaw.json"
      to: "telegram channel"
      via: "bindings[].match.channel"
      pattern: "telegram.*juancho"
    - from: "SOUL.md"
      to: "system prompt"
      via: "OpenClaw workspace file injection (system-prompt.ts line 565)"
      pattern: "embody its persona"
---

<objective>
Rewrite Juancho's workspace files and agent configuration to establish a coding-focused developer identity, replacing OpenClaw's general assistant persona.

Purpose: This is the foundation for everything else. Without a developer-focused persona, all subsequent phases (GSD pipeline, git workflow, autonomy) will fight against a general-assistant default behavior. The workspace files ARE the prompt that shapes Juancho's behavior.

Output: Four workspace files (SOUL.md, AGENTS.md, TOOLS.md, IDENTITY.md) in ~/.openclaw/workspace-juancho/ and an updated openclaw.json registering Juancho as a dedicated agent routed to Telegram.
</objective>

<execution_context>
@/Users/didac/.claude/get-shit-done/workflows/execute-plan.md
@/Users/didac/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-developer-identity-persona/01-RESEARCH.md

# Reference: existing OpenClaw templates (understand what we're replacing)
@/Users/didac/Juancho/docs/reference/templates/SOUL.md
@/Users/didac/Juancho/docs/reference/templates/AGENTS.md
@/Users/didac/Juancho/docs/reference/templates/TOOLS.md
@/Users/didac/Juancho/docs/reference/templates/IDENTITY.md

# Reference: how workspace files get injected into system prompt
# src/agents/system-prompt.ts lines 557-571: SOUL.md gets "embody its persona" override
# src/agents/workspace.ts: loadWorkspaceBootstrapFiles() loads all workspace files
# src/agents/agent-scope.ts: agents.list[] maps agentId to workspace path
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Juancho developer workspace files</name>
  <files>
    ~/.openclaw/workspace-juancho/SOUL.md
    ~/.openclaw/workspace-juancho/AGENTS.md
    ~/.openclaw/workspace-juancho/TOOLS.md
    ~/.openclaw/workspace-juancho/IDENTITY.md
  </files>
  <action>
    Create directory ~/.openclaw/workspace-juancho/ and write four workspace files that define Juancho as a coding-focused developer. These files get injected into OpenClaw's system prompt as "Project Context" and SOUL.md gets explicit "embody its persona" override authority.

    **SOUL.md** (developer persona — WHO Juancho is):
    - Replace OpenClaw's "Be genuinely helpful" general assistant identity with developer-first identity
    - Core truths: research before code, test after changes, document decisions, commit with discipline, ship in phases
    - Boundaries: private code stays private, never commit secrets, ask before destructive ops, tests must pass before merge
    - Vibe: methodical, thorough, professional — the developer who never ships broken code
    - Continuity: workspace files + .planning/ directory ARE memory
    - Keep under 3000 chars (well within 20k bootstrapMaxChars limit)
    - Use the research file's example SOUL.md as starting point but refine for production quality

    **AGENTS.md** (engineering discipline — HOW Juancho works):
    - Replace OpenClaw's general session flow (read SOUL.md, USER.md, memory) with developer session flow
    - Every session: read .planning/STATE.md (current phase), current PLAN.md, recent memory
    - Workflow phases: Research -> Plan -> Build -> Test -> Review (maps to GSD methodology)
    - Git discipline: semantic commits, branch naming, never force push main, test before commit
    - Safety: git status before commit, read diffs before push, test passes before merge
    - Remove group chat / social behavior sections (Juancho is a developer, not a social participant)
    - Remove heartbeat email/calendar/weather checks (replace with project-focused heartbeat in later phases)
    - Keep memory file conventions (memory/YYYY-MM-DD.md) but frame as work logs, not social diary
    - Keep under 4000 chars

    **TOOLS.md** (developer tooling — WHAT Juancho uses):
    - Replace camera/SSH/TTS notes with git conventions, testing setup, development environment
    - Git: conventional commits format, branch naming conventions, PR template
    - Testing: test-first discipline, coverage expectations, how to run tests
    - Development: code style preferences, linting, formatting
    - Keep under 2000 chars

    **IDENTITY.md** (agent metadata):
    - Name: Juancho
    - Creature: AI developer / autonomous engineer
    - Vibe: Methodical, thorough, ships working code
    - Emoji: (hammer and wrench — developer tool, not gendered)
    - Avatar: leave blank for now

    IMPORTANT: Do NOT copy the research file's example SOUL.md/AGENTS.md verbatim. Those are illustrative examples. Write production-quality files that are:
    - Concise (not verbose)
    - Specific (not generic "be a good developer")
    - Actionable (each instruction maps to observable behavior)
    - Compatible with OpenClaw's workspace injection system (plain markdown, no frontmatter)
  </action>
  <verify>
    1. All four files exist: ls ~/.openclaw/workspace-juancho/{SOUL,AGENTS,TOOLS,IDENTITY}.md
    2. SOUL.md contains "research before code" (developer identity, not general assistant)
    3. AGENTS.md contains ".planning/STATE.md" (developer workflow, not general session)
    4. TOOLS.md contains "semantic commit" or "conventional commit" (developer tooling)
    5. IDENTITY.md contains "Juancho" (correct agent name)
    6. No file exceeds 5000 chars: wc -c ~/.openclaw/workspace-juancho/*.md
  </verify>
  <done>
    Four workspace files exist defining Juancho as a coding-focused developer with engineering discipline. Files are concise, actionable, and compatible with OpenClaw's workspace injection system.
  </done>
</task>

<task type="auto">
  <name>Task 2: Register Juancho agent in OpenClaw config</name>
  <files>
    ~/.openclaw/openclaw.json
  </files>
  <action>
    Read the existing ~/.openclaw/openclaw.json and add Juancho as a registered agent. The config uses JSON5 format (comments allowed).

    **Add to agents.list[]:**
    ```json
    {
      "id": "juancho",
      "workspace": "~/.openclaw/workspace-juancho",
      "agentDir": "~/.openclaw/agents/juancho/agent",
      "identity": {
        "name": "Juancho",
        "emoji": "\ud83d\udee0\ufe0f",
        "theme": "autonomous developer"
      },
      "model": "anthropic/claude-opus-4-6"
    }
    ```

    **Add to bindings[]:**
    ```json
    { "agentId": "juancho", "match": { "channel": "telegram" } }
    ```

    IMPORTANT:
    - Read the existing config FIRST to understand current structure
    - Preserve ALL existing config — only ADD the Juancho agent entry and binding
    - If agents.list[] already exists, append to it; if not, create it
    - If bindings[] already exists, append to it; if not, create it
    - Create the agentDir directory: mkdir -p ~/.openclaw/agents/juancho/agent
    - Use the config types from src/config/types.agents.ts as reference for valid fields
    - Do NOT add fields not in the AgentConfig type
  </action>
  <verify>
    1. openclaw.json contains "juancho" agent in agents.list[]: grep -c "juancho" ~/.openclaw/openclaw.json
    2. openclaw.json contains workspace path: grep "workspace-juancho" ~/.openclaw/openclaw.json
    3. openclaw.json contains telegram binding: grep "telegram" ~/.openclaw/openclaw.json
    4. Agent directory exists: ls ~/.openclaw/agents/juancho/agent/
    5. Config is valid JSON/JSON5: node -e "require('fs').readFileSync('$HOME/.openclaw/openclaw.json','utf8')" (no parse errors)
  </verify>
  <done>
    Juancho registered as a separate agent in openclaw.json with dedicated workspace path, agent directory, and Telegram channel binding. Existing config preserved.
  </done>
</task>

</tasks>

<verification>
After both tasks complete, verify the full integration:

1. **Workspace isolation:** Juancho workspace is separate from default
   ```bash
   ls ~/.openclaw/workspace-juancho/SOUL.md
   ls ~/.openclaw/workspace/SOUL.md  # Default agent untouched
   ```

2. **Developer identity in SOUL.md:** Not general assistant
   ```bash
   grep -c "research before code" ~/.openclaw/workspace-juancho/SOUL.md  # Should be >= 1
   grep -c "genuinely helpful" ~/.openclaw/workspace-juancho/SOUL.md     # Should be 0
   ```

3. **Engineering discipline in AGENTS.md:** Developer workflow, not social assistant
   ```bash
   grep -c "STATE.md" ~/.openclaw/workspace-juancho/AGENTS.md            # Should be >= 1
   grep -c "group chat" ~/.openclaw/workspace-juancho/AGENTS.md          # Should be 0
   ```

4. **Agent registered:** Config has juancho entry
   ```bash
   grep "juancho" ~/.openclaw/openclaw.json | head -5
   ```

5. **No src/ changes:** Upstream sync safe
   ```bash
   cd /Users/didac/Juancho && git diff --name-only src/  # Should be empty
   ```
</verification>

<success_criteria>
1. Juancho workspace files define a developer persona (not general assistant)
2. Engineering discipline baked into AGENTS.md (research/plan/build/test/review workflow)
3. Git and testing conventions documented in TOOLS.md
4. Juancho registered as separate OpenClaw agent with isolated workspace
5. Telegram routed to Juancho via binding
6. Zero changes to src/ (upstream sync safe)
7. All workspace files under 5000 chars (within bootstrapMaxChars budget)
</success_criteria>

<output>
After completion, create `.planning/phases/01-developer-identity-persona/01-01-SUMMARY.md`
</output>
